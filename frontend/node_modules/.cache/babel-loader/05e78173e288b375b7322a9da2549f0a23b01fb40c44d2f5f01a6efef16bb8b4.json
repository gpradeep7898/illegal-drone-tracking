{"ast":null,"code":"var _jsxFileName = \"/Users/pradeepgatti/Desktop/IllegalDroneTracking/illegal-drone-tracking/frontend/src/components/DroneUpdates.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DroneUpdates = () => {\n  _s();\n  const [droneList, setDroneList] = useState([]);\n  useEffect(() => {\n    fetchDroneUpdates(setDroneList);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Drone Updates\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: droneList.length > 0 ? droneList.map((drone, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: drone.callsign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 15\n        }, this), \" - \", drone.latitude, \", \", drone.longitude, \" -\", \" \", drone.unauthorized ? \"‚ùå Unauthorized\" : \"‚úÖ Authorized\"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No live drone updates available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n};\n\n// ‚úÖ WebSocket Connection\n_s(DroneUpdates, \"yYHEu4n39+GsRY6htuigg8AasF8=\");\n_c = DroneUpdates;\nconst socket = new WebSocket(\"ws://localhost:8000/ws\");\nsocket.onopen = () => {\n  console.log(\"‚úÖ WebSocket Connected\");\n  socket.send(JSON.stringify({\n    message: \"Hello from React!\"\n  }));\n};\nsocket.onmessage = event => {\n  try {\n    const updatedData = JSON.parse(event.data);\n    console.log(\"üì° WebSocket Live Drone Data:\", updatedData);\n    if (Array.isArray(updatedData) && updatedData.length > 0) {\n      updateDroneList(updatedData);\n    } else {\n      console.warn(\"‚ö†Ô∏è Unexpected WebSocket Data:\", updatedData);\n    }\n  } catch (error) {\n    console.error(\"‚ùå Error parsing WebSocket data:\", event.data);\n  }\n};\nsocket.onclose = () => {\n  console.warn(\"‚ö†Ô∏è WebSocket Disconnected\");\n};\n\n// ‚úÖ Function to fetch WebSocket updates\nexport const fetchDroneUpdates = callback => {\n  socket.onmessage = event => {\n    try {\n      const updatedData = JSON.parse(event.data);\n      if (Array.isArray(updatedData) && updatedData.length > 0) {\n        callback(updatedData);\n      }\n    } catch (error) {\n      console.error(\"‚ùå Error processing WebSocket data:\", event.data);\n    }\n  };\n};\n\n// ‚úÖ Define updateDroneList function\nexport const updateDroneList = data => {\n  console.log(\"üì° Updating Drone List with:\", data);\n};\n\n// ‚úÖ Default Export the Component\nexport default DroneUpdates;\nvar _c;\n$RefreshReg$(_c, \"DroneUpdates\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","DroneUpdates","_s","droneList","setDroneList","fetchDroneUpdates","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","drone","index","callsign","latitude","longitude","unauthorized","_c","socket","WebSocket","onopen","console","log","send","JSON","stringify","message","onmessage","event","updatedData","parse","data","Array","isArray","updateDroneList","warn","error","onclose","callback","$RefreshReg$"],"sources":["/Users/pradeepgatti/Desktop/IllegalDroneTracking/illegal-drone-tracking/frontend/src/components/DroneUpdates.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst DroneUpdates = () => {\n  const [droneList, setDroneList] = useState([]);\n\n  useEffect(() => {\n    fetchDroneUpdates(setDroneList);\n  }, []);\n\n  return (\n    <div>\n      <h2>Drone Updates</h2>\n      <ul>\n        {droneList.length > 0 ? (\n          droneList.map((drone, index) => (\n            <li key={index}>\n              <strong>{drone.callsign}</strong> - {drone.latitude}, {drone.longitude} -{\" \"}\n              {drone.unauthorized ? \"‚ùå Unauthorized\" : \"‚úÖ Authorized\"}\n            </li>\n          ))\n        ) : (\n          <p>No live drone updates available.</p>\n        )}\n      </ul>\n    </div>\n  );\n};\n\n// ‚úÖ WebSocket Connection\nconst socket = new WebSocket(\"ws://localhost:8000/ws\");\n\nsocket.onopen = () => {\n  console.log(\"‚úÖ WebSocket Connected\");\n  socket.send(JSON.stringify({ message: \"Hello from React!\" }));\n};\n\nsocket.onmessage = (event) => {\n  try {\n    const updatedData = JSON.parse(event.data);\n    console.log(\"üì° WebSocket Live Drone Data:\", updatedData);\n\n    if (Array.isArray(updatedData) && updatedData.length > 0) {\n      updateDroneList(updatedData);\n    } else {\n      console.warn(\"‚ö†Ô∏è Unexpected WebSocket Data:\", updatedData);\n    }\n  } catch (error) {\n    console.error(\"‚ùå Error parsing WebSocket data:\", event.data);\n  }\n};\n\nsocket.onclose = () => {\n  console.warn(\"‚ö†Ô∏è WebSocket Disconnected\");\n};\n\n// ‚úÖ Function to fetch WebSocket updates\nexport const fetchDroneUpdates = (callback) => {\n  socket.onmessage = (event) => {\n    try {\n      const updatedData = JSON.parse(event.data);\n      if (Array.isArray(updatedData) && updatedData.length > 0) {\n        callback(updatedData);\n      }\n    } catch (error) {\n      console.error(\"‚ùå Error processing WebSocket data:\", event.data);\n    }\n  };\n};\n\n// ‚úÖ Define updateDroneList function\nexport const updateDroneList = (data) => {\n  console.log(\"üì° Updating Drone List with:\", data);\n};\n\n// ‚úÖ Default Export the Component\nexport default DroneUpdates;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}